<div class ="container1" >

    <h2 class="text-center">{{'PRODUIT.' + operationMode | translate}}</h2>


    <div class="actions">
        <p class="text-right">
            <a class="btn btn-primary" href="#!/produit/home">
                <span class="glyphicon glyphicon-chevron-left"></span> {{'COMMON.BACK' | translate}}
            </a>
        </p>
    </div>


	<form name="manageProduitForm" ng-submit="save(manageProduitForm.$valid)">
		<div class="form-group">
			<label for="produitName">{{'PRODUIT.NAME' | translate}}</label>
			<input type="text" name="produitName" class="form-control" ng-model="managedProduit.nameProduit" maxlength="250" required autofocus/>
			<div ng-messages="manageProduitForm.produitName.$error">
                <div ng-messages-include="views/shared/messages.html"></div>
            </div>
		</div>

		<!-- <div class="form-group">
			<label for="produitRef">{{'PRODUIT.REFERENCE' | translate}}</label>
			<input type="text" name="produitRef" class="form-control" ng-model="managedProduit.ref" maxlength="150" required/>
			<div ng-messages="manageProduitForm.produitRef.$error">
                <div ng-messages-include="views/shared/messages.html"></div>
            </div>
		</div>

		<div class="form-group">
			<label for="versionDate">{{'PRODUIT.DATE_VERSION' | translate}}</label>
			<p class="input-group">
				<input type="text"
					name="versionDate"
					class="form-control"
					datepicker-popup="{{'COMMON.DATE_FORMAT' | translate}}"
					ng-model="managedProduit.versionDate"
					ng-disabled="true"
					is-open="versionDate"
					max-date="managedProduit.versionDate"
					minlength="10"
					maxlength="10"
					required />
				<span class="input-group-btn">
					<button type="button" class="btn btn-default" ng-click="open($event, 'produit.versionDate')"><i class="glyphicon glyphicon-calendar"></i></button>
				</span>
			</p>
			<div ng-messages="manageProduitForm.produitDateVersion.$error">
                <div ng-messages-include="views/shared/messages.html"></div>
            </div>
		</div>
 -->
	<div class="form-group">
        <label>{{'PRODUIT.DATE_VERSION' | translate}}</label>
        <input type="date" name="versionDate" required placeholder="" ng-model="versionDateTemp" class="form-control"/>
        <p style="font-size:12px">Format : dd/mm/yyyy</p>
        <div ng-messages="manageProduitForm.versionDate.$error">
            <div ng-messages-include="views/shared/messages.html"></div>
        </div>
    </div>
				
       
		<div class="form-group">
			<label for="produitDescription">{{'PRODUIT.DESCRIPTION' | translate}}</label><br/>
	   		<textarea type="text" name="produitDescription" class="form-control" ng-model="managedProduit.description" maxlength="16000" required></textarea>
			<div ng-messages="manageProduitForm.description.$error">
                <div ng-messages-include="views/shared/messages.html"></div>
            </div>
		</div>

		
		<div class="form-group">
			<label for="number">{{'PRODUIT.NUMBER' | translate}}</label>
			<input type="text" name="number" class="form-control" ng-model="managedProduit.number" maxlength="4" placeholder="XXXX"required autofocus/>
			<div ng-messages="manageProduitForm.number.$error">
                <div ng-messages-include="views/shared/messages.html"></div>
            </div>
		</div>
		
		<div class="form-group">
			<label for="code">{{'PRODUIT.CODE' | translate}}</label>
			<select class="form-control"
					name="code"
					
                    data-ng-model="managedProduit.code.id"
                    data-ng-options='code.id as code.codeNumber for code in codes.content'>
            </select>
            <div ng-messages="manageProduitForm.code.$error">
                <div ng-messages-include="views/shared/messages.html"></div>
            </div>
		</div>
		
		<!-- <div class="form-group">
            <label for="pictureTemp">{{'PRODUIT.PICTURE' | translate}}</label>
            <input type="file" name="pictureTemp" ng-model="pictureTemp" ng-required="operationMode === 'CREATE'"  class="form-control" base-sixty-four-input />
            
            		<a href="" ng-click="openLightboxModal(apiUrl + '/produit/' + managedProduit.id + '/picture')">
					<img style="margin: 10px 0 0 0; max-width:200px;" data-ng-src="data:image/png;base64,{{pictureTemp.base64}}" />
           		<img style="margin: 10px 0 0 0; max-width:200px;" ng-src="{{apiUrl}}/produit/{{managedProduit.id}}/picture" /> 
				
				
           	</a> 
        </div> -->


<!-- 		<div class="form-group">
			<label for="produitCategorie">{{'PRODUIT.CATEGORIE_PRODUIT' | translate}}</label>
			<select class="form-control"
					name="produitCategorie"
					
                    data-ng-model="managedProduit.categorie.id"
                    data-ng-options='categorie.id as categorie.nameCategorie for categorie in categories.content'>
            </select>
            <div ng-messages="manageProduitForm.catgorie.$error">
                <div ng-messages-include="views/shared/messages.html"></div>
            </div>
		</div> -->
		
	
		<div class="form-group">
                <label for="produitToPiece">{{'PRODUIT.PIECE' | translate}}</label>

                <ui-select multiple ng-model="managedProduit.pieces" theme="bootstrap">
                    <ui-select-match>{{$item.reference + $item.name}}</ui-select-match>
                    <ui-select-choices repeat="piece in (pieces | filter: $select.search) track by piece.id">
                        <span ng-bind="piece.reference +' '+ piece.name"></span>
                    </ui-select-choices>
                </ui-select>

                <div ng-messages="manageProduitForm.pieces.$error">
                    <div ng-messages-include="views/shared/messages.html"></div>
                </div>
            </div>
		<div class="form-group">
                <label for="produitCategorie">{{'PRODUIT.CATEGORIE_PRODUIT' | translate}}</label>

                <ui-select multiple ng-model="managedProduit.categories" theme="bootstrap">
                    <ui-select-match>{{$item.nameCategorie}}</ui-select-match>
                    <ui-select-choices repeat="categorie in (categories | filter: $select.search) track by categorie.id">
                        <span ng-bind="categorie.nameCategorie"></span>
						
                    </ui-select-choices>
                </ui-select>

                <div ng-messages="manageProduitForm.categories.$error">
                    <div ng-messages-include="views/shared/messages.html"></div>
                </div>
            </div>


		<p class="text-center" ng-if="hasAnyRole('SUPERADMIN', 'ADMINISTRATEUR')" >
            <button type="submit" class="btn btn-success text-center"><span class="glyphicon glyphicon-save"></span> {{'COMMON.SAVE' | translate}}</button>
            <button type="button" class="btn btn-danger" ng-click="goBack()"><span class="glyphicon glyphicon-remove"></span> {{'COMMON.CANCEL' | translate}}</button>
        </p>
	</form>

</div>
